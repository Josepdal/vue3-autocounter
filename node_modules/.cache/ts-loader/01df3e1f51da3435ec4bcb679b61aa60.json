{"remainingRequest":"/Users/Cristopher/Documents/GitHub/vue3-autocounter/node_modules/babel-loader/lib/index.js!/Users/Cristopher/Documents/GitHub/vue3-autocounter/node_modules/ts-loader/index.js??ref--13-2!/Users/Cristopher/Documents/GitHub/vue3-autocounter/src/requestAnimationFrame.ts","dependencies":[{"path":"/Users/Cristopher/Documents/GitHub/vue3-autocounter/src/requestAnimationFrame.ts","mtime":1614326313227},{"path":"/Users/Cristopher/Documents/GitHub/vue3-autocounter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Cristopher/Documents/GitHub/vue3-autocounter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Cristopher/Documents/GitHub/vue3-autocounter/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwp2YXIgbGFzdFRpbWUgPSAwOwp2YXIgcHJlZml4ZXMgPSAnd2Via2l0IG1veiBtcyBvJy5zcGxpdCgnICcpOyAvLyDlkITmtY/op4jlmajliY3nvIAKCnZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWU7CnZhciBjYW5jZWxBbmltYXRpb25GcmFtZTsKdmFyIGlzU2VydmVyID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7CgppZiAoaXNTZXJ2ZXIpIHsKICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSB7CiAgICByZXR1cm47CiAgfTsKCiAgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiBjYW5jZWxBbmltYXRpb25GcmFtZSgpIHsKICAgIHJldHVybjsKICB9Owp9IGVsc2UgewogIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7CiAgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU7CiAgdmFyIHByZWZpeDsgLy8g6YCa6L+H6YGN5Y6G5ZCE5rWP6KeI5Zmo5YmN57yA77yM5p2l5b6X5YiwcmVxdWVzdEFuaW1hdGlvbkZyYW1l5ZKMY2FuY2VsQW5pbWF0aW9uRnJhbWXlnKjlvZPliY3mtY/op4jlmajnmoTlrp7njrDlvaLlvI8KCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykgewogICAgaWYgKHJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiBjYW5jZWxBbmltYXRpb25GcmFtZSkgewogICAgICBicmVhazsKICAgIH0KCiAgICBwcmVmaXggPSBwcmVmaXhlc1tpXTsKICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3dbcHJlZml4ICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddOwogICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3dbcHJlZml4ICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgd2luZG93W3ByZWZpeCArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTsKICB9IC8vIOWmguaenOW9k+WJjea1j+iniOWZqOS4jeaUr+aMgXJlcXVlc3RBbmltYXRpb25GcmFtZeWSjGNhbmNlbEFuaW1hdGlvbkZyYW1l77yM5YiZ5Lya6YCA5Yiwc2V0VGltZW91dAoKCiAgaWYgKCFyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgIWNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHsKICAgICAgdmFyIGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7IC8vIOS4uuS6huS9v3NldFRpbXRlb3V055qE5bC95Y+v6IO955qE5o6l6L+R5q+P56eSNjDluKfnmoTmlYjmnpwKCiAgICAgIHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpOwogICAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKTsKICAgICAgfSwgdGltZVRvQ2FsbCk7CiAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsOwogICAgICByZXR1cm4gaWQ7CiAgICB9OwoKICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpIHsKICAgICAgd2luZG93LmNsZWFyVGltZW91dChpZCk7CiAgICB9OwogIH0KfQoKZXhwb3J0IHsgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBjYW5jZWxBbmltYXRpb25GcmFtZSB9Ow=="},{"version":3,"sources":["/Users/Cristopher/Documents/GitHub/vue3-autocounter/src/requestAnimationFrame.ts"],"names":[],"mappings":";;AAAA,IAAI,QAAQ,GAAG,CAAf;AACA,IAAM,QAAQ,GAAG,kBAAkB,KAAlB,CAAwB,GAAxB,CAAjB,C,CAA8C;;AAE9C,IAAI,qBAAJ;AACA,IAAI,oBAAJ;AAEA,IAAM,QAAQ,GAAG,OAAO,MAAP,KAAkB,WAAnC;;AACA,IAAI,QAAJ,EAAc;AACZ,EAAA,qBAAqB,GAAG,iCAAA;AACtB;AACD,GAFD;;AAGA,EAAA,oBAAoB,GAAG,gCAAA;AACrB;AACD,GAFD;AAGD,CAPD,MAOO;AACL,EAAA,qBAAqB,GAAG,MAAM,CAAC,qBAA/B;AACA,EAAA,oBAAoB,GAAG,MAAM,CAAC,oBAA9B;AACA,MAAI,MAAJ,CAHK,CAIH;;AACF,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,QAAQ,CAAC,MAA7B,EAAqC,CAAC,EAAtC,EAA0C;AACxC,QAAI,qBAAqB,IAAI,oBAA7B,EAAmD;AAAE;AAAO;;AAC5D,IAAA,MAAM,GAAG,QAAQ,CAAC,CAAD,CAAjB;AACA,IAAA,qBAAqB,GAAG,qBAAqB,IAAI,MAAM,CAAC,MAAM,GAAG,uBAAV,CAAvD;AACA,IAAA,oBAAoB,GAAG,oBAAoB,IAAI,MAAM,CAAC,MAAM,GAAG,sBAAV,CAA9B,IAAmE,MAAM,CAAC,MAAM,GAAG,6BAAV,CAAhG;AACD,GAVI,CAYL;;;AACA,MAAI,CAAC,qBAAD,IAA0B,CAAC,oBAA/B,EAAqD;AACnD,IAAA,qBAAqB,GAAG,+BAAS,QAAT,EAAiB;AACvC,UAAM,QAAQ,GAAG,IAAI,IAAJ,GAAW,OAAX,EAAjB,CADuC,CAEvC;;AACA,UAAM,UAAU,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,MAAM,QAAQ,GAAG,QAAjB,CAAZ,CAAnB;AACA,UAAM,EAAE,GAAG,MAAM,CAAC,UAAP,CAAkB,YAAK;AAChC,QAAA,QAAQ,CAAC,QAAQ,GAAG,UAAZ,CAAR;AACD,OAFU,EAER,UAFQ,CAAX;AAGA,MAAA,QAAQ,GAAG,QAAQ,GAAG,UAAtB;AACA,aAAO,EAAP;AACD,KATD;;AAWA,IAAA,oBAAoB,GAAG,8BAAS,EAAT,EAAW;AAChC,MAAA,MAAM,CAAC,YAAP,CAAoB,EAApB;AACD,KAFD;AAGD;AACF;;AAED,SAAS,qBAAT,EAAgC,oBAAhC","sourcesContent":["let lastTime = 0\nconst prefixes = 'webkit moz ms o'.split(' ') // 各浏览器前缀\n\nlet requestAnimationFrame;\nlet cancelAnimationFrame;\n\nconst isServer = typeof window === 'undefined'\nif (isServer) {\n  requestAnimationFrame = function() {\n    return\n  }\n  cancelAnimationFrame = function() {\n    return\n  }\n} else {\n  requestAnimationFrame = window.requestAnimationFrame\n  cancelAnimationFrame = window.cancelAnimationFrame\n  let prefix\n    // 通过遍历各浏览器前缀，来得到requestAnimationFrame和cancelAnimationFrame在当前浏览器的实现形式\n  for (let i = 0; i < prefixes.length; i++) {\n    if (requestAnimationFrame && cancelAnimationFrame) { break }\n    prefix = prefixes[i]\n    requestAnimationFrame = requestAnimationFrame || window[prefix + 'RequestAnimationFrame']\n    cancelAnimationFrame = cancelAnimationFrame || window[prefix + 'CancelAnimationFrame'] || window[prefix + 'CancelRequestAnimationFrame']\n  }\n\n  // 如果当前浏览器不支持requestAnimationFrame和cancelAnimationFrame，则会退到setTimeout\n  if (!requestAnimationFrame || !cancelAnimationFrame) {\n    requestAnimationFrame = function(callback) {\n      const currTime = new Date().getTime()\n      // 为了使setTimteout的尽可能的接近每秒60帧的效果\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime))\n      const id = window.setTimeout(() => {\n        callback(currTime + timeToCall)\n      }, timeToCall)\n      lastTime = currTime + timeToCall\n      return id\n    }\n\n    cancelAnimationFrame = function(id) {\n      window.clearTimeout(id)\n    }\n  }\n}\n\nexport { requestAnimationFrame, cancelAnimationFrame };"],"sourceRoot":""}]}